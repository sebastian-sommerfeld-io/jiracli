= tests.sh

// +-----------------------------------------------+
// |                                               |
// |    DO NOT EDIT HERE !!!!!                     |
// |                                               |
// |    File is auto-generated by pipline.         |
// |    Contents are based on bash script docs.    |
// |                                               |
// +-----------------------------------------------+


Start the docker stack and run tests or stop the docker stack.

== Overview

The script starts and stops the docker compose stack used for the local jira
instance. This stack is used for automated tests against a running Jira system. This stack
also builds the `local/jiracli:test` image to run tests based on `src/main/Dockerfile`.

These tests are also triggered from the CI pipeline. The `local/jiracli:test` image which
is built from this Docker Compose configuration is also deployed to DockerHub as
link:https://hub.docker.com/r/sommerfeldio/jiracli[`sommerfeldio/jiracli:ci`]. This
`sommerfeldio/jiracli:ci` image acts as the foundation for the CD pipeline and is re-tagged
as `sommerfeldio/jiracli:latest` and `sommerfeldio/jiracli:<version>`. This way it is
ensured, that all releases are based on the image which was tested previously and that only
one image build takes place.

=== Script Arguments

* _$1_ (string): Command (`start`, `logs`, `stop`)

=== Script Example

[source, bash]

----
./tests.sh start
./tests.sh logs
./tests.sh stop
----
